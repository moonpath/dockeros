function PCMPlayer(t){this.init(t)}PCMPlayer.prototype.init=function(){this.audioCtx=new(window.AudioContext||window.webkitAudioContext)({sampleRate:44100}),this.audioCtx.resume(),this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime},PCMPlayer.prototype.feed=function(t){t=new Float32Array(t);let i=this.audioCtx.createBufferSource(),e=t.length/2,a=this.audioCtx.createBuffer(2,e,44100),o=a.getChannelData(0),n=a.getChannelData(1),s=0;r=1;for(let u=0;u<e;u++)o[u]=t[s],s+=2,n[u]=t[r],r+=2;this.startTime<this.audioCtx.currentTime&&(this.startTime=this.audioCtx.currentTime),i.buffer=a,i.connect(this.gainNode),i.start(this.startTime),this.startTime+=a.duration},PCMPlayer.prototype.destroy=function(){this.audioCtx.close(),this.audioCtx=null};
